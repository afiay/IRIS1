{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block styles %}

{% endblock %}

{% block content %}
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 179.78 160.38" width="150" height="150">
    <g fill="#673AB7">
        <path d="M73.68,17.14c-0.88,0-1.76-0.22-2.58-0.67c-5.85-2.79-10.17-8.36-11.51-14.99l-0.1-0.47
      c-1.06-5.32,0.99-10.67,4.86-13.68c2.91-2.02,6.57-2.57,9.9-1.41c0.73,0.23,1.44,0.55,2.11,0.97
      c5.67,2.87,7.96,9.57,5.09,15.24l-0.16,0.32c-1.1,2.18-2.92,4.06-5.25,5.19C76.78,16.73,75.24,17.14,73.68,17.14z" />
        <path d="M99.52,39.42c-0.95,0-1.91-0.26-2.77-0.78c-5.67-3.43-7.96-10.14-4.53-15.81l0.16-0.33
      c1.1-2.17,2.92-4.06,5.24-5.19c1.32-0.61,2.74-0.9,4.16-0.9c1.69,0,3.38,0.56,4.74,1.67l0.1,0.09
      c5.33,4.33,6.65,12.11,2.32,17.44C109.05,37.72,104.51,39.42,99.52,39.42z" />
        <path
            d="M119.48,36.05c-0.42,0-0.85-0.05-1.27-0.15c-5.84-1.23-10.31-6.4-10.97-12.25l-0.09-0.48
      c-0.48-5.32,1.63-10.62,5.72-13.33c3.17-1.91,7.17-2.14,10.47-0.56c0.87,0.42,1.68,1.01,2.41,1.75
      c3.48,3.45,4.16,9.11,1.7,13.44l-0.24,0.49c-0.45,0.91-1.25,1.6-2.29,1.93C121.31,35.95,120.4,36.05,119.48,36.05z" />
        <path
            d="M140.13,20.69c-0.88,0-1.76-0.22-2.58-0.67c-5.85-2.79-10.17-8.36-11.51-14.99l-0.1-0.47
      c-1.06-5.32,0.99-10.67,4.86-13.68c2.91-2.02,6.57-2.57,9.9-1.41c0.73,0.23,1.44,0.55,2.11,0.97
      c5.67,2.87,7.96,9.57,5.09,15.24l-0.16,0.32c-1.1,2.18-2.92,4.06-5.25,5.19C143.24,20.29,141.7,20.69,140.13,20.69z" />
        <path d="M125.32,0c-0.87,0-1.75-0.21-2.57-0.67C116.91-3.46,112.59-9.03,111.25-15.66l-0.1-0.47
      c-1.06-5.32,0.99-10.67,4.86-13.68c2.91-2.02,6.57-2.57,9.9-1.41c0.73,0.23,1.44,0.55,2.11,0.97C131.7-24.4,134-17.71,131.13-12.03
      l-0.16,0.32c-1.1,2.18-2.92,4.06-5.25,5.19C128.42-0.41,126.88,0,125.32,0z" />
    </g>
    <g fill="#D1C4E9">
        <path d="M88.98,70.27c-0.78,0-1.55-0.16-2.29-0.49c-5.92-2.64-8.56-9.4-5.92-15.32l0.24-0.5
      c0.43-0.88,1.2-1.52,2.12-1.82c1.11-0.43,2.27-0.63,3.43-0.63c3.83,0,7.15,2.67,7.96,6.43l0.1,0.47
      c1.48,6.64-1.98,13.27-8.62,14.75C90.66,70.21,89.82,70.27,88.98,70.27z" />
        <path d="M64.62,59.27c-0.79,0-1.57-0.16-2.32-0.49c-5.91-2.64-8.55-9.4-5.91-15.32l0.24-0.5
      c0.42-0.87,1.19-1.51,2.1-1.81c1.12-0.43,2.28-0.63,3.45-0.63c3.82,0,7.15,2.66,7.96,6.42l0.1,0.47
      c1.48,6.64-1.98,13.27-8.62,14.75C66.3,59.22,65.46,59.27,64.62,59.27z" />
        <path d="M106.93,51.68c-0.87,0-1.75-0.21-2.57-0.67c-5.84-2.78-8.17-9.87-5.39-15.71l0.33-0.65
      c0.61-1.2,1.68-2.16,2.99-2.68c1.1-0.42,2.28-0.63,3.46-0.63c3.84,0,7.16,2.68,7.96,6.43l0.1,0.47
      c1.48,6.64-1.98,13.27-8.62,14.75C108.61,51.62,107.77,51.68,106.93,51.68z" />
        <path d="M41.68,51.68c-0.86,0-1.74-0.21-2.56-0.67c-5.84-2.78-8.17-9.87-5.39-15.71l0.33-0.65
      c0.61-1.2,1.68-2.16,2.99-2.68c1.1-0.42,2.28-0.63,3.46-0.63c3.84,0,7.16,2.68,7.96,6.43l0.1,0.47
      c1.48,6.64-1.98,13.27-8.62,14.75C43.36,51.62,42.52,51.68,41.68,51.68z" />
        <path
            d="M136.32,66.82c-0.42,0-0.85-0.05-1.27-0.15c-5.84-1.23-10.31-6.4-10.97-12.25l-0.09-0.48
      c-0.48-5.32,1.63-10.62,5.72-13.33c3.17-1.91,7.17-2.14,10.47-0.56c0.87,0.42,1.68,1.01,2.41,1.75
      c3.48,3.45,4.16,9.11,1.7,13.44l-0.24,0.49c-0.45,0.91-1.25,1.6-2.29,1.93C138.15,66.73,137.24,66.82,136.32,66.82z" />
        <path d="M12.58,66.82c-0.42,0-0.85-0.05-1.27-0.15c-5.84-1.23-10.31-6.4-10.97-12.25l-0.09-0.48
      c-0.48-5.32,1.63-10.62,5.72-13.33c3.17-1.91,7.17-2.14,10.47-0.56c0.87,0.42,1.68,1.01,2.41,1.75
      c3.48,3.45,4.16,9.11,1.7,13.44l-0.24,0.49c-0.45,0.91-1.25,1.6-2.29,1.93C14.41,66.73,13.5,66.82,12.58,66.82z" />
    </g>
</svg>

<!-- Add the filter form at the top of the page -->
<div class="container">
    <div class="row justify-content-center mt-4">
        <div class="col-md-6">
            <form method="GET" action="{% url 'home' %}" class="mb-4">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="from_date">From Date</label>
                        <input type="date" class="form-control" id="from_date" name="from_date" value="{{ from_date }}">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="to_date">To Date</label>
                        <input type="date" class="form-control" id="to_date" name="to_date" value="{{ to_date }}">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="participants">Participants</label>
                        <input type="number" class="form-control" id="participants" name="participants" value="{{ participants }}">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="country">Country</label>
                        <select class="form-control" id="country" name="country">
                            <option value="">All Countries</option>
                            <!-- Add options for each country from your database -->
                            {% for country in countries %}
                                <option value="{{ country }}" {% if country == selected_country %}selected{% endif %}>{{ country }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-12">
                        <label for="category">Category</label>
                        <select class="form-control" id="category" name="category">
                            <option value="">All Categories</option>
                            <!-- Add options for each category from your database -->
                            {% for category in categories %}
                                <option value="{{ category }}" {% if category == selected_category %}selected{% endif %}>{{ category }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Apply Filter</button>
            </form>
        </div>
    </div>

<!-- Display the filtered services -->
<div class="row">
    {% for service in services %}
<div class="col-md-4">
    <div class="card mb-4">
        <a href="{% url 'service_detail' service.id %}">
            <img src="{{ service.pictures.url }}" alt="{{ service.name }}" class="card-img-top">
            <div class="card-body">
                <h5 class="card-title">{{ service.name }}</h5>
                <p class="card-text">Category: {{ service.category }}</p>
                <p class="card-text">Participants: {{ service.guest_limit }}</p>
                <!-- Add more service details here -->
            </div>
        </a>
    </div>
</div>

    {% empty %}
        <div class="col-md-12">
            <p>No services found.</p>
        </div>
    {% endfor %}
</div>

    </div>
</div>

{% endblock %}
